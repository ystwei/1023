<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="js/jquery-1.11.0.js"></script>
<script type="text/javascript">
	$(function(){
		
		
		$("#pro").change(function(){
			
			var pro=this.value;//所选择的省份
			if(pro=="999"){
				return;
			}
			$.ajax({
	 			type:"post",
	 			data:"pro="+pro,//pro=ln
	 			url:"city",
	 			dataType:"xml",//从后台到前端的大批量城市数据
	 			success:function(xml){
	 				
	 				$("#city option").remove();
	 				$("#city").append("<option value='999'>请选择城市</option>")
	 				$(xml).find('city').each(function(i){
	 					var name=$(this).children('name').text();
	 					var value=$(this).children('value').text();
	 					
	 					$("#city").append("<option value='"+value+"'>"+name+"</option>");
	 				});
					//alert(responseTxt);					
	 			}			
	 		});
		});
		
		
// 		var pro=$("#pro").get(0).option
// 		
		
		
	});

</script>
</head>
<body>
	<select id="pro" >
		<option value="999">
		请选择省份
		</option>
		<optgroup label="东北">
			<option value="hlj">黑龙江省</option>
			<option value="ln">辽宁省</option>
		</optgroup>
		<optgroup label="西北">
			<option value="sx">陕西省</option>
			<option value="gs">甘肃省</option>		
		</optgroup>	
	</select>
	所在的城市
	<select id="city">
		<option value="999">
			请选择城市
		</option>
	</select>
	
	
</body>
</html>